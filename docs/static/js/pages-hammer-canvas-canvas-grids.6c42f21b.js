(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-hammer-canvas-canvas-grids"],{1646:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("v-uni-view",{staticClass:"bg-black"},[s("v-uni-canvas",{staticStyle:{width:"100vw",height:"100vh"},attrs:{type:"2d","canvas-id":"grid",id:"grid"}})],1)},e=[];s.d(i,"a",(function(){return n})),s.d(i,"b",(function(){return e}))},e84f:function(t,i,s){"use strict";s.r(i);var n=s("1646"),e=s("fefc");for(var a in e)"default"!==a&&function(t){s.d(i,t,(function(){return e[t]}))}(a);var h=s("2877"),o=Object(h["a"])(e["default"],n["a"],n["b"],!1,null,"1db4ba9a",null);i["default"]=o.exports},f051:function(t,i,s){"use strict";var n=s("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(s("d225")),a=n(s("b0b4"));function h(t){return Math.PI/180*t}var o=function(){function t(i,s,n,a,o,r,c,u,d,l,f,v){(0,e.default)(this,t),this.generation=i,this.size=a,this.rotation=-o,this.start={x:s,y:n},this.end={x_1:this.start.x+Math.cos(h(this.rotation))*this.size,y_1:this.start.y+Math.sin(h(this.rotation))*this.size,x_2:this.start.x+Math.cos(h(this.rotation+120))*this.size,y_2:this.start.y+Math.sin(h(this.rotation+120))*this.size,x_3:this.start.x+Math.cos(h(this.rotation+240))*this.size,y_3:this.start.y+Math.sin(h(this.rotation+240))*this.size},this.init(r,c,u,d,l,f,v)}return(0,a.default)(t,[{key:"init",value:function(i,s,n,e,a,h,o){if(this.generation<n){var r=this.generation+1,c=this.size*s,u=this.rotation;i.push(new t(r,this.end.x_1,this.end.y_1,c,u,i,s,n,e,a,h,o)),i.push(new t(r,this.end.x_2,this.end.y_2,c,u,i,s,n,e,a,h,o)),i.push(new t(r,this.end.x_3,this.end.y_3,c,u,i,s,n,e,a,h,o))}this.draw(e,a,h,o)}},{key:"draw",value:function(t,i,s,n){t.beginPath(),t.lineWidth=2,t.moveTo(this.start.x,this.start.y),t.lineTo(this.end.x_1,this.end.y_1),t.moveTo(this.start.x,this.start.y),t.lineTo(this.end.x_2,this.end.y_2),t.moveTo(this.start.x,this.start.y),t.lineTo(this.end.x_3,this.end.y_3),t.moveTo(this.start.x,this.start.y),t.closePath(),t.strokeStyle="rgba("+i+","+s+","+n+","+1/this.generation/5+")",t.stroke()}}]),t}(),r={data:function(){return{systemInfo:{},canvas:null,ctx:null,canvasWidth:0,canvasHeight:0,shapes:[],sizeVariation:null,iteration:0,animationDirection:1,sizeVariationRange:.15,baseRotation:0,baseSize:50,c1:43,c1S:1,c2:205,c2S:1,c3:255,c3S:1,PHI:(1+Math.sqrt(5))/2,maxGeneration:6,frameDuration:1e3/60,duration:3e3,rotationSpeed:.3,totalIterations:Math.floor(180),maxBaseSize:100,baseSizeSpeed:.02,stop:null}},onLoad:function(){var t=this;uni.getSystemInfo({success:function(i){t.systemInfo=i}})},onReady:function(){console.log("onReady"),this.canvas=null,this.ctx=null,this.iteration=0,this.shapes=[],window&&this.stop?window.cancelAnimationFrame(this.stop):clearTimeout(this.stop),this.setup()},onUnload:function(){window&&this.stop?window.cancelAnimationFrame(this.stop):clearTimeout(this.stop),this.canvas=null,this.ctx=null},methods:{setup:function(){this.canvas=document.querySelector("#grid canvas");var t=uni.getSystemInfoSync().pixelRatio;this.canvas.width=this.systemInfo.windowWidth*t,this.canvas.height=this.systemInfo.windowHeight*t,this.canvasWidth=this.systemInfo.windowWidth,this.canvasHeight=this.systemInfo.windowHeight,this.ctx=this.canvas.getContext("2d"),this.animate()},animate:function(){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle="rgba(0,0,0,0.1)",this.ctx.fillRect(0,0,this.systemInfo.windowWidth,this.systemInfo.windowHeight),this.ctx.globalCompositeOperation="lighter",this.shapes=[],this.shapes.push(new o(0,this.canvasWidth/2,this.canvasHeight/2,this.baseSize,this.baseRotation,this.shapes,this.sizeVariation,this.maxGeneration,this.ctx,this.c1,this.c2,this.c3)),this.changeColor(),this.iteration++,this.baseSize<this.maxBaseSize&&(this.baseSize+=this.baseSizeSpeed),this.baseRotation+=this.rotationSpeed,this.sizeVariation=this.easeInOutSine(this.iteration,1-this.sizeVariationRange*this.animationDirection,2*this.sizeVariationRange*this.animationDirection,this.totalIterations),this.iteration>=this.totalIterations&&(this.iteration=0,this.animationDirection*=-1),this.stop=window?window.requestAnimationFrame(this.animate):setTimeout(this.animate,1e3/60)},easeInOutSine:function(t,i,s,n){return s/2*(1-Math.cos(Math.PI*t/n))+i},changeColor:function(){0!=this.c1&&255!=this.c1||(this.c1S*=-1),0!=this.c2&&255!=this.c2||(this.c2S*=-1),0!=this.c3&&255!=this.c3||(this.c3S*=-1),this.c1+=1*this.c1S,this.c2+=1*this.c2S,this.c3+=1*this.c3S}}};i.default=r},fefc:function(t,i,s){"use strict";s.r(i);var n=s("f051"),e=s.n(n);for(var a in n)"default"!==a&&function(t){s.d(i,t,(function(){return n[t]}))}(a);i["default"]=e.a}}]);