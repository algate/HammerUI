(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-hammer-function-mescroll-base-sticky"],{1075:function(t,n,e){"use strict";var i=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("f05e")),o=i(e("efb5")),c=i(e("b0a8")),s=i(e("8898")),l={components:{MescrollUni:a.default,TabsSticky:o.default,PdList:c.default},data:function(){return{mescroll:null,pdList:[],upOption:{onScroll:!0},tabs:[{name:"全部"},{name:"母婴"},{name:"图书"}],tabIndex:0,navTop:null,isShowSticky:!1}},methods:{mescrollInit:function(t){this.mescroll=t},downCallback:function(t){t.resetUpScroll()},upCallback:function(t){var n=this;this.isChangeTab&&(t.hideUpScroll(),uni.showLoading()),this.getListDataFromNet(t.num,t.size,(function(e){console.log("mescroll.num="+t.num+", mescroll.size="+t.size+", curPageData.length="+e.length),1==t.num&&(n.pdList=[]),n.pdList=n.pdList.concat(e),n.$nextTick((function(){t.endSuccess(e.length),n.navTop||n.setNavTop(),n.isChangeTab&&(n.isChangeTab=!1,uni.hideLoading(),n.isShowSticky&&t.scrollTo(n.navTop,0))}))}),(function(){t.endErr()}))},setNavTop:function(){var t=this,n=uni.createSelectorQuery().in(this).select("#tabInList");n.boundingClientRect((function(n){console.log("tabInList基本信息 = "+JSON.stringify(n)),t.navTop=n.top})).exec()},scroll:function(t){console.log("滚动条位置 = "+t.getScrollTop()+", navTop = "+this.navTop),t.getScrollTop()>=this.navTop?this.isShowSticky=!0:this.isShowSticky=!1},topClick:function(){this.isShowSticky=!1},changeTab:function(t){this.isChangeTab=!0,this.mescroll.resetUpScroll()},getListDataFromNet:function(t,n,e,i){var a=this;setTimeout((function(){try{var o=[];if(0===a.tabIndex)for(var c=(t-1)*n;c<t*n;c++){if(c===s.default.length)break;o.push(s.default[c])}else if(1===a.tabIndex)for(var l=0;l<s.default.length;l++)-1!==s.default[l].pdName.indexOf("婴")&&o.push(s.default[l]);else if(2===a.tabIndex)for(var u=0;u<s.default.length;u++)-1!==s.default[u].pdName.indexOf("图书")&&o.push(s.default[u]);e&&e(o)}catch(r){i&&i()}}),1e3)}}};n.default=l},"20fc":function(t,n,e){"use strict";e.r(n);var i=e("1075"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},"8f15":function(t,n,e){"use strict";e.r(n);var i=e("d0ab"),a=e("20fc");for(var o in a)"default"!==o&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("d0c4");var c=e("2877"),s=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"03c3cfb6",null);n["default"]=s.exports},"980c":function(t,n,e){var i=e("9b82");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("4f06").default;a("1761afa8",i,!0,{sourceMap:!1,shadowMode:!1})},"9b82":function(t,n,e){n=t.exports=e("24fb")(!1),n.push([t.i,".demo-tip[data-v-03c3cfb6]{padding:%?18?%;font-size:%?28?%;font-weight:700;text-align:center;background:#cfe0da}",""])},d0ab:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[t.isShowSticky?e("tabs-sticky",{attrs:{fixed:!0,tabs:t.tabs},on:{change:function(n){n=t.$handleEvent(n),t.changeTab(n)}},model:{value:t.tabIndex,callback:function(n){t.tabIndex=n},expression:"tabIndex"}}):t._e(),e("mescroll-uni",{attrs:{up:t.upOption},on:{down:function(n){n=t.$handleEvent(n),t.downCallback(n)},up:function(n){n=t.$handleEvent(n),t.upCallback(n)},scroll:function(n){n=t.$handleEvent(n),t.scroll(n)},init:function(n){n=t.$handleEvent(n),t.mescrollInit(n)},topclick:function(n){n=t.$handleEvent(n),t.topClick(n)}}},[e("v-uni-swiper",{attrs:{autoplay:"true",interval:"3000",duration:"300",circular:"true"}},[e("v-uni-swiper-item",[e("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:"http://www.mescroll.com/img/swiper1.jpg",mode:"widthFix"}})],1),e("v-uni-swiper-item",[e("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:"http://www.mescroll.com/img/swiper2.jpg",mode:"widthFix"}})],1)],1),e("v-uni-view",{staticClass:"demo-tip"},[t._v("每次切换菜单都刷新列表数据")]),e("v-uni-view",{attrs:{id:"tabInList"}},[e("tabs-sticky",{attrs:{tabs:t.tabs},on:{change:function(n){n=t.$handleEvent(n),t.changeTab(n)}},model:{value:t.tabIndex,callback:function(n){t.tabIndex=n},expression:"tabIndex"}})],1),e("pd-list",{attrs:{list:t.pdList}})],1)],1)},a=[];e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return a}))},d0c4:function(t,n,e){"use strict";var i=e("980c"),a=e.n(i);a.a}}]);