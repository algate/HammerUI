(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-hammer-canvas-canvas-vectorJs"],{"19b6":function(t,e,n){"use strict";n.r(e);var a=n("6b7f"),i=n("e06e");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);var o=n("2877"),u=Object(o["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=u.exports},"6b7f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-canvas",{staticStyle:{background:"#666",width:"100vw",height:"50vw"},attrs:{type:"2d","canvas-id":"vector",id:"vector"}})],1)},i=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}))},"6c7b":function(t,e,n){var a=n("5ca1");a(a.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"82bd":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("d225")),s=a(n("b0b4")),o=function(){function t(e,n){(0,i.default)(this,t),this.x=e,this.y=n}return(0,s.default)(t,[{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"addTo",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"subFrom",value:function(t){this.x-=t.x,this.y-=t.y}},{key:"mult",value:function(e){return new t(this.x*e,this.y*e)}},{key:"div",value:function(e){return new t(this.x/e,this.y/e)}},{key:"setAngle",value:function(t){var e=this.getLength();this.x=Math.cos(t)*e,this.y=Math.sin(t)*e}},{key:"setLength",value:function(t){var e=this.getAngle();this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}},{key:"getAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"getLength",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"getLengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"distanceTo",value:function(t){return this.sub(t).getLength()}},{key:"copy",value:function(){return new t(this.x,this.y)}}]),t}(),u=o;e.default=u},d9dc:function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac6a"),n("c5f6"),n("6c7b");var i,s,o,u,r,h,c,d,f,l,v,y,w,p=a(n("d225")),g=a(n("b0b4")),x=a(n("82bd")),b={text:"Love",widthToSpikeLengthRatio:.054},m={particleOpacity:.2,baseHue:350,hueRange:9,hueSpeed:.02,colorSaturation:100},k=function(){function t(e,n,a){(0,p.default)(this,t),this.pos=new x.default(e,n),this.g=a}return(0,g.default)(t,[{key:"draw",value:function(){s.fillStyle="#aaa",s.beginPath(),s.arc(this.pos.x,this.pos.y,4,0,2*Math.PI),s.fill()}}]),t}(),M=function(){function t(e,n){(0,p.default)(this,t),this.pos=new x.default(e,n),this.vel=new x.default(0,c)}return(0,g.default)(t,[{key:"move",value:function(t){t&&this.vel.addTo(t),this.vel.getLength()>c&&this.vel.setLength(c)}},{key:"draw",value:function(){s.beginPath(),s.moveTo(this.pos.x,this.pos.y);var t=this.pos.add(this.vel);s.lineTo(t.x,t.y),s.stroke()}}]),t}(),S={data:function(){return{systemInfo:{}}},onLoad:function(){var t=this;uni.getSystemInfo({success:function(e){t.systemInfo=e,console.log(t.systemInfo)}})},onReady:function(){this.setup()},methods:{setup:function(){w=0,d=[];for(var t=Math.round(3*Math.random()+3),e=this,n=0;n<t;n++){var a=new k(50+100*n,200,n?1e3:2e3);d.push(a)}i=document.querySelector("#vector canvas");var o=uni.getSystemInfoSync().pixelRatio;i.width=this.systemInfo.windowWidth*o,i.height=this.systemInfo.windowWidth/2*o,s=i.getContext("2d"),this.reset(),e.draw()},reset:function(){r=m.baseHue,o=this.systemInfo.windowWidth,u=this.systemInfo.windowWidth/2,c=o*b.widthToSpikeLengthRatio,f=o/2.2,l=u/2.2,v=Math.round(Math.random()+2),y=Math.round(Math.random()+2),this.drawText()},drawText:function(){var t=this;s.save();var e=.2*o;console.log(e),s.font="bold "+e+"px Arial, Helvetica, sans-serif",s.globalAlpha=.2,s.lineWidth=1,s.strokeStyle="white",s.strokeText(b.text,o/2-e*b.text.length/2,u/2-e/2),s.restore(),h=[],uni.canvasGetImageData({canvasId:"vector",x:0,y:0,width:Number(o),height:Number(u),success:function(e){for(var n=e,a=0;a<o;a++)for(var i=0;i<u;i++){var s=4*(a+o*i),r=(n.data[s]+n.data[s+1]+n.data[s+2]+n.data[s+3])/4;if(r>200){var c=new M(a,i);h.push(c)}}t.clear()}})},mousemove:function(t){var e=t.clientX,n=t.clientY;d[0].pos.x=e,d[0].pos.y=n},draw:function(){this.clear();var t=this;window.requestAnimationFrame(t.draw),this.updateParticles(),this.updatePlanets(),w++},clear:function(){s.clearRect(0,0,o,u)},updatePlanets:function(){for(var t=d.length,e=1;e<t;e++){var n=2*Math.PI/(t-1)*e,a=f*Math.sin(v*w/100+n)+o/2,i=l*Math.sin(y*w/100+n)+u/2,s=d[e];s.pos.x=a,s.pos.y=i,s.draw()}},updateParticles:function(){r+=m.hueSpeed;var t=Math.sin(r)*m.hueRange+m.baseHue;s.strokeStyle="hsla(".concat(t,", ").concat(m.colorSaturation,"%, 50%, ").concat(m.particleOpacity,")"),h.forEach((function(t){d.forEach((function(e){var n=t.pos.sub(e.pos),a=n.getLength(),i=e.g/a;i>40&&(i=40),n.setLength(i),t.move(n)})),t.draw()}))}}};e.default=S},e06e:function(t,e,n){"use strict";n.r(e);var a=n("d9dc"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a}}]);